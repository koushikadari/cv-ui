<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Portfolio Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@600;700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, border-color 0.3s;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #334155;
            height: 100vh;
            overflow: hidden;
        }

        body.dark-mode {
            background-color: #0f172a;
            color: #cbd5e1;
        }

        .app-container {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background-color: #ffffff;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            z-index: 10;
        }

        body.dark-mode .sidebar {
            background-color: #1e293b;
            border-right-color: #334155;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        body.dark-mode .sidebar-header {
            border-bottom-color: #334155;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            color: #3b82f6;
            font-size: 24px;
        }

        .logo-text {
            font-family: 'Poppins', sans-serif;
            font-size: 18px;
            font-weight: 700;
            color: #3b82f6;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: #64748b;
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            background-color: #f1f5f9;
        }

        body.dark-mode .theme-toggle:hover {
            background-color: #334155;
        }

        .user-section {
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
        }

        body.dark-mode .user-section {
            border-bottom-color: #334155;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #3b82f6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 16px;
        }

        .user-info {
            flex-grow: 1;
        }

        .user-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .user-email {
            font-size: 13px;
            color: #64748b;
        }

        body.dark-mode .user-email {
            color: #94a3b8;
        }

        .menu-section {
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
        }

        .menu-title {
            font-size: 14px;
            font-weight: 600;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 15px;
        }

        body.dark-mode .menu-title {
            color: #94a3b8;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            color: #475569;
            text-decoration: none;
        }

        .menu-item:hover {
            background-color: #f1f5f9;
        }

        body.dark-mode .menu-item:hover {
            background-color: #334155;
        }

        .menu-item.active {
            background-color: #eff6ff;
            color: #3b82f6;
            font-weight: 500;
        }

        body.dark-mode .menu-item.active {
            background-color: #1e3a8a;
        }

        .menu-item i {
            width: 20px;
            text-align: center;
        }

        .upload-cv-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            justify-content: center;
            margin-top: 20px;
        }

        .upload-cv-btn:hover {
            background-color: #2563eb;
        }

        .upload-cv-btn:disabled {
            background-color: #94a3b8;
            cursor: not-allowed;
        }

        /* Main Content */
        .main-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            padding: 18px 24px;
            border-bottom: 1px solid #e2e8f0;
            background-color: white;
        }

        body.dark-mode .chat-header {
            background-color: #1e293b;
            border-bottom-color: #334155;
        }

        .chat-title {
            font-size: 20px;
            font-weight: 700;
            color: #3b82f6;
        }

        .chat-subtitle {
            font-size: 14px;
            color: #64748b;
            margin-top: 4px;
        }

        body.dark-mode .chat-subtitle {
            color: #94a3b8;
        }

        /* Chat and Portfolio Container */
        .content-container {
            display: flex;
            flex-grow: 1;
            overflow: hidden;
        }

        .chat-section {
            width: 400px;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            background-color: white;
        }

        body.dark-mode .chat-section {
            background-color: #1e293b;
            border-right-color: #334155;
        }

        .portfolio-section {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .portfolio-header {
            padding: 15px 24px;
            border-bottom: 1px solid #e2e8f0;
            background-color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        body.dark-mode .portfolio-header {
            background-color: #1e293b;
            border-bottom-color: #334155;
        }

        .portfolio-title {
            font-size: 18px;
            font-weight: 700;
            color: #3b82f6;
        }

        .portfolio-actions {
            display: flex;
            gap: 10px;
        }

        .portfolio-btn {
            background: none;
            border: 1px solid #e2e8f0;
            color: #64748b;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        body.dark-mode .portfolio-btn {
            border-color: #334155;
            color: #94a3b8;
        }

        .portfolio-btn:hover {
            background-color: #f1f5f9;
        }

        body.dark-mode .portfolio-btn:hover {
            background-color: #334155;
        }

        .portfolio-btn.primary {
            background-color: #3b82f6;
            color: white;
            border: none;
        }

        .portfolio-btn.primary:hover {
            background-color: #2563eb;
        }

        /* Messages Container */
        .messages-container {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            background-color: #f8fafc;
        }

        body.dark-mode .messages-container {
            background-color: #0f172a;
        }

        .message {
            display: flex;
            gap: 12px;
            max-width: 100%;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 4px;
        }

        .user-message .message-avatar {
            background-color: #3b82f6;
            color: white;
        }

        .ai-message .message-avatar {
            background-color: #10b981;
            color: white;
        }

        .message-content {
            background-color: white;
            padding: 14px 18px;
            border-radius: 18px;
            border-top-left-radius: 4px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            line-height: 1.5;
            font-size: 14.5px;
        }

        body.dark-mode .message-content {
            background-color: #1e293b;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .user-message .message-content {
            background-color: #3b82f6;
            color: white;
            border-top-right-radius: 4px;
            border-top-left-radius: 18px;
        }

        .message-time {
            font-size: 11px;
            color: #94a3b8;
            margin-top: 6px;
            text-align: right;
        }

        .user-message .message-time {
            text-align: left;
        }

        /* Chat Input */
        .chat-input {
            padding: 20px;
            border-top: 1px solid #e2e8f0;
            background-color: white;
        }

        body.dark-mode .chat-input {
            background-color: #1e293b;
            border-top-color: #334155;
        }

        .input-container {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        .message-input {
            flex-grow: 1;
            padding: 14px 18px;
            border: 1px solid #cbd5e1;
            border-radius: 24px;
            font-family: 'Inter', sans-serif;
            font-size: 14.5px;
            resize: none;
            max-height: 120px;
            background-color: #f8fafc;
        }

        body.dark-mode .message-input {
            background-color: #1e293b;
            border-color: #475569;
            color: #cbd5e1;
        }

        .message-input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .send-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .send-btn:hover {
            background-color: #2563eb;
        }

        .send-btn:disabled {
            background-color: #94a3b8;
            cursor: not-allowed;
        }

        /* Portfolio Preview */
        .portfolio-preview {
            flex-grow: 1;
            overflow-y: auto;
            padding: 30px;
            background-color: #f8fafc;
        }

        body.dark-mode .portfolio-preview {
            background-color: #0f172a;
        }

        .portfolio-empty {
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #64748b;
        }

        body.dark-mode .portfolio-empty {
            color: #94a3b8;
        }

        .empty-icon {
            font-size: 60px;
            color: #cbd5e1;
            margin-bottom: 20px;
        }

        body.dark-mode .empty-icon {
            color: #475569;
        }

        .empty-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #475569;
        }

        body.dark-mode .empty-title {
            color: #cbd5e1;
        }

        .empty-text {
            max-width: 400px;
            line-height: 1.6;
        }

        /* Actual Portfolio Template */
        .portfolio-template {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            display: none;
        }

        body.dark-mode .portfolio-template {
            background-color: #1e293b;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .portfolio-template.active {
            display: block;
        }

        /* Portfolio Header */
        .portfolio-header-section {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            padding: 40px;
        }

        body.dark-mode .portfolio-header-section {
            background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%);
        }

        .portfolio-name {
            font-family: 'Poppins', sans-serif;
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .portfolio-title-text {
            font-size: 20px;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .portfolio-contact {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 15px;
        }

        /* Portfolio Sections */
        .portfolio-body {
            padding: 40px;
        }

        .portfolio-section-title {
            font-family: 'Poppins', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        body.dark-mode .portfolio-section-title {
            border-bottom-color: #334155;
        }

        /* Summary Section */
        .summary-text {
            line-height: 1.7;
            font-size: 16px;
            color: #475569;
        }

        body.dark-mode .summary-text {
            color: #cbd5e1;
        }

        /* Skills Section */
        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 15px;
        }

        .skill-tag {
            background-color: #eff6ff;
            color: #3b82f6;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 500;
            font-size: 14px;
        }

        body.dark-mode .skill-tag {
            background-color: #1e3a8a;
            color: #dbeafe;
        }

        /* Experience Section */
        .experience-item {
            margin-bottom: 30px;
        }

        .experience-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .experience-company {
            font-weight: 700;
            font-size: 18px;
            color: #1e293b;
        }

        body.dark-mode .experience-company {
            color: #f1f5f9;
        }

        .experience-date {
            color: #64748b;
            font-weight: 500;
        }

        body.dark-mode .experience-date {
            color: #94a3b8;
        }

        .experience-position {
            font-size: 16px;
            color: #475569;
            margin-bottom: 10px;
        }

        body.dark-mode .experience-position {
            color: #cbd5e1;
        }

        .experience-description {
            line-height: 1.6;
            color: #64748b;
        }

        body.dark-mode .experience-description {
            color: #94a3b8;
        }

        /* Education Section */
        .education-item {
            margin-bottom: 25px;
        }

        .education-degree {
            font-weight: 700;
            font-size: 18px;
            color: #1e293b;
            margin-bottom: 5px;
        }

        body.dark-mode .education-degree {
            color: #f1f5f9;
        }

        .education-school {
            font-size: 16px;
            color: #475569;
            margin-bottom: 5px;
        }

        body.dark-mode .education-school {
            color: #cbd5e1;
        }

        /* Projects Section */
        .project-item {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 8px;
            background-color: #f8fafc;
            border-left: 4px solid #3b82f6;
        }

        body.dark-mode .project-item {
            background-color: #0f172a;
            border-left-color: #3b82f6;
        }

        .project-title {
            font-weight: 700;
            font-size: 18px;
            color: #1e293b;
            margin-bottom: 8px;
        }

        body.dark-mode .project-title {
            color: #f1f5f9;
        }

        .project-description {
            line-height: 1.6;
            color: #64748b;
        }

        body.dark-mode .project-description {
            color: #94a3b8;
        }

        /* File Upload Message */
        .file-upload-message {
            border: 2px dashed #cbd5e1;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin-top: 10px;
            background-color: #f8fafc;
        }

        body.dark-mode .file-upload-message {
            border-color: #475569;
            background-color: #0f172a;
        }

        .file-upload-icon {
            font-size: 48px;
            color: #3b82f6;
            margin-bottom: 15px;
        }

        .file-upload-text {
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 8px;
        }

        .file-upload-subtext {
            color: #64748b;
            font-size: 14px;
            margin-bottom: 20px;
        }

        body.dark-mode .file-upload-subtext {
            color: #94a3b8;
        }

        .file-upload-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .quick-action-btn {
            background: none;
            border: 1px solid #e2e8f0;
            color: #64748b;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        body.dark-mode .quick-action-btn {
            border-color: #334155;
            color: #94a3b8;
        }

        .quick-action-btn:hover {
            background-color: #f1f5f9;
        }

        body.dark-mode .quick-action-btn:hover {
            background-color: #334155;
        }

        /* History Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            width: 90%;
            max-width: 500px;
            border-radius: 16px;
            overflow: hidden;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
        }

        body.dark-mode .modal-content {
            background-color: #1e293b;
        }

        .modal-header {
            padding: 20px 24px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        body.dark-mode .modal-header {
            border-bottom-color: #334155;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 700;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #64748b;
        }

        body.dark-mode .close-modal {
            color: #94a3b8;
        }

        .history-list {
            padding: 20px 24px;
            overflow-y: auto;
            flex-grow: 1;
        }

        .history-item {
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 12px;
            background-color: #f8fafc;
            cursor: pointer;
        }

        body.dark-mode .history-item {
            background-color: #0f172a;
        }

        .history-item:hover {
            background-color: #f1f5f9;
        }

        body.dark-mode .history-item:hover {
            background-color: #334155;
        }

        .history-prompt {
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .history-prompt i {
            color: #3b82f6;
        }

        .history-date {
            font-size: 13px;
            color: #64748b;
        }

        body.dark-mode .history-date {
            color: #94a3b8;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .content-container {
                flex-direction: column;
            }

            .chat-section {
                width: 100%;
                height: 400px;
                border-right: none;
                border-bottom: 1px solid #e2e8f0;
            }

            .portfolio-section {
                height: calc(100vh - 400px);
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
                overflow: hidden;
            }

            .logo-text,
            .user-info,
            .menu-title,
            .menu-item span,
            .upload-cv-btn span {
                display: none;
            }

            .menu-item {
                justify-content: center;
                padding: 15px;
            }

            .upload-cv-btn {
                padding: 15px;
            }

            .portfolio-actions {
                flex-wrap: wrap;
            }
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="logo-text">AI Portfolio</div>
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>

            <div class="user-section">
                <div class="user-profile">
                    <div class="user-avatar">JD</div>
                    <div class="user-info">
                        <div class="user-name">John Doe</div>
                        <div class="user-email">john@gmail.com</div>
                    </div>
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-title">Navigation</div>
                <div class="menu-item active" id="chatMenuItem">
                    <i class="fas fa-comment-dots"></i>
                    <span>AI Chat</span>
                </div>
                <div class="menu-item" id="portfolioMenuItem">
                    <i class="fas fa-briefcase"></i>
                    <span>Portfolio</span>
                </div>
                <div class="menu-item" id="historyMenuItem">
                    <i class="fas fa-history"></i>
                    <span>History</span>
                </div>

                <div class="menu-title" style="margin-top: 30px;">Account</div>
                <div class="menu-item" id="googleMenuItem">
                    <i class="fab fa-google"></i>
                    <span>Connect Google</span>
                </div>
                <div class="menu-item" id="settingsMenuItem">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </div>

                <button class="upload-cv-btn" id="uploadCvBtn">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <span>Upload CV</span>
                </button>

                <input type="file" id="fileInput" style="display: none;" accept=".pdf,.doc,.docx,.txt">
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="chat-header">
                <div>
                    <div class="chat-title">AI Portfolio Assistant</div>
                    <div class="chat-subtitle">Upload your CV and chat with AI to generate and refine your portfolio
                    </div>
                </div>
            </div>

            <div class="content-container">
                <!-- Chat Section -->
                <div class="chat-section">
                    <div class="messages-container" id="messagesContainer">
                        <!-- AI Welcome Message -->
                        <div class="message ai-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div>
                                <div class="message-content">
                                    <strong>Hello! I'm your AI Portfolio Assistant.</strong><br><br>
                                    I can help you:
                                    <ul style="padding-left: 20px; margin-top: 8px;">
                                        <li>Generate a professional portfolio from your CV</li>
                                        <li>Improve existing portfolio sections</li>
                                        <li>Add new skills, projects, or experiences</li>
                                        <li>Refine your professional summary</li>
                                    </ul>
                                    <br>
                                    <strong>Get started:</strong> Upload your CV using the button in the sidebar, then
                                    ask me to generate your portfolio!
                                </div>
                                <div class="message-time">Just now</div>
                            </div>
                        </div>

                        <!-- File Upload Message -->
                        <div class="message ai-message" id="fileUploadMessage">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div>
                                <div class="message-content">
                                    <div class="file-upload-message">
                                        <div class="file-upload-icon">
                                            <i class="fas fa-file-upload"></i>
                                        </div>
                                        <div class="file-upload-text">Upload your CV or Resume</div>
                                        <div class="file-upload-subtext">Supported formats: PDF, DOC, DOCX, TXT (Max
                                            file size: 5MB)</div>
                                        <button class="file-upload-btn" id="inlineUploadBtn">
                                            <i class="fas fa-cloud-upload-alt"></i>
                                            Choose File
                                        </button>
                                    </div>
                                </div>
                                <div class="message-time">Just now</div>
                            </div>
                        </div>
                    </div>

                    <div class="chat-input">
                        <div class="input-container">
                            <textarea class="message-input" id="messageInput"
                                placeholder="Type your message here... (e.g., 'Generate portfolio from my CV')"
                                rows="1"></textarea>
                            <button class="send-btn" id="sendBtn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        <div class="quick-actions">
                            <button class="quick-action-btn" id="quickPrompt1">
                                <i class="fas fa-magic"></i>
                                Generate portfolio
                            </button>
                            <button class="quick-action-btn" id="quickPrompt2">
                                <i class="fas fa-edit"></i>
                                Improve summary
                            </button>
                            <button class="quick-action-btn" id="quickPrompt3">
                                <i class="fas fa-plus"></i>
                                Add project
                            </button>
                            <button class="quick-action-btn" id="historyBtn">
                                <i class="fas fa-history"></i>
                                History
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Portfolio Preview Section -->
                <div class="portfolio-section">
                    <div class="portfolio-header">
                        <div class="portfolio-title">Portfolio Preview</div>
                        <div class="portfolio-actions">
                            <button class="portfolio-btn" id="exportPdfBtn">
                                <i class="fas fa-file-pdf"></i>
                                Export PDF
                            </button>
                            <button class="portfolio-btn" id="refreshPortfolioBtn">
                                <i class="fas fa-sync-alt"></i>
                                Refresh
                            </button>
                            <button class="portfolio-btn primary" id="editPortfolioBtn">
                                <i class="fas fa-edit"></i>
                                Edit Portfolio
                            </button>
                        </div>
                    </div>

                    <div class="portfolio-preview" id="portfolioPreview">
                        <!-- Empty State -->
                        <div class="portfolio-empty" id="portfolioEmpty">
                            <div class="empty-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="empty-title">No Portfolio Generated Yet</div>
                            <div class="empty-text">
                                Upload your CV and use the AI assistant to generate a professional portfolio.
                                Your portfolio will appear here with a live preview.
                            </div>
                        </div>

                        <!-- Portfolio Template (Hidden by default) -->
                        <div class="portfolio-template" id="portfolioTemplate">
                            <div class="portfolio-header-section">
                                <h1 class="portfolio-name" id="portfolioName">John Doe</h1>
                                <div class="portfolio-title-text" id="portfolioJobTitle">Senior Full Stack Developer
                                </div>
                                <div class="portfolio-contact">
                                    <div class="contact-item">
                                        <i class="fas fa-envelope"></i>
                                        <span id="portfolioEmail">john.doe@example.com</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fas fa-phone"></i>
                                        <span id="portfolioPhone">+1 (555) 123-4567</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span id="portfolioLocation">San Francisco, CA</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fab fa-linkedin"></i>
                                        <span id="portfolioLinkedin">linkedin.com/in/johndoe</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fab fa-github"></i>
                                        <span id="portfolioGithub">github.com/johndoe</span>
                                    </div>
                                </div>
                            </div>

                            <div class="portfolio-body">
                                <!-- Summary Section -->
                                <div class="portfolio-section-item">
                                    <h2 class="portfolio-section-title">Professional Summary</h2>
                                    <p class="summary-text" id="portfolioSummary">
                                        Results-driven Full Stack Developer with 5+ years of experience building
                                        scalable web applications.
                                        Proficient in JavaScript, React, Node.js, and cloud technologies. Passionate
                                        about creating efficient,
                                        user-friendly solutions and collaborating in agile teams to deliver high-quality
                                        software.
                                    </p>
                                </div>

                                <!-- Skills Section -->
                                <div class="portfolio-section-item">
                                    <h2 class="portfolio-section-title">Technical Skills</h2>
                                    <div class="skills-container" id="portfolioSkills">
                                        <!-- Skills will be populated by JavaScript -->
                                    </div>
                                </div>

                                <!-- Experience Section -->
                                <div class="portfolio-section-item">
                                    <h2 class="portfolio-section-title">Work Experience</h2>
                                    <div id="portfolioExperience">
                                        <!-- Experience items will be populated by JavaScript -->
                                    </div>
                                </div>

                                <!-- Education Section -->
                                <div class="portfolio-section-item">
                                    <h2 class="portfolio-section-title">Education</h2>
                                    <div id="portfolioEducation">
                                        <!-- Education items will be populated by JavaScript -->
                                    </div>
                                </div>

                                <!-- Projects Section -->
                                <div class="portfolio-section-item">
                                    <h2 class="portfolio-section-title">Projects</h2>
                                    <div id="portfolioProjects">
                                        <!-- Project items will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- History Modal -->
    <div class="modal" id="historyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Chat History</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="history-list">
                <div class="history-item" data-prompt="Generate a portfolio from my uploaded CV">
                    <div class="history-prompt">
                        <i class="fas fa-comment"></i>
                        Generate a portfolio from my uploaded CV
                    </div>
                    <div class="history-date">Today, 10:30 AM</div>
                </div>

                <div class="history-item" data-prompt="Add React and TypeScript to my skills">
                    <div class="history-prompt">
                        <i class="fas fa-comment"></i>
                        Add React and TypeScript to my skills
                    </div>
                    <div class="history-date">Yesterday, 3:15 PM</div>
                </div>

                <div class="history-item" data-prompt="Improve my professional summary">
                    <div class="history-prompt">
                        <i class="fas fa-comment"></i>
                        Improve my professional summary
                    </div>
                    <div class="history-date">Oct 12, 2023, 11:45 AM</div>
                </div>

                <div class="history-item" data-prompt="Add a project about e-commerce website">
                    <div class="history-prompt">
                        <i class="fas fa-comment"></i>
                        Add a project about e-commerce website
                    </div>
                    <div class="history-date">Oct 10, 2023, 9:20 AM</div>
                </div>

                <div class="history-item" data-prompt="Update my work experience with quantifiable achievements">
                    <div class="history-prompt">
                        <i class="fas fa-comment"></i>
                        Update my work experience with quantifiable achievements
                    </div>
                    <div class="history-date">Oct 8, 2023, 2:10 PM</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = themeToggle.querySelector('i');
        const body = document.body;
        const messagesContainer = document.getElementById('messagesContainer');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const fileInput = document.getElementById('fileInput');
        const uploadCvBtn = document.getElementById('uploadCvBtn');
        const inlineUploadBtn = document.getElementById('inlineUploadBtn');
        const historyBtn = document.getElementById('historyBtn');
        const closeModal = document.getElementById('closeModal');
        const historyModal = document.getElementById('historyModal');
        const fileUploadMessage = document.getElementById('fileUploadMessage');
        const historyItems = document.querySelectorAll('.history-item');
        const quickPromptButtons = [
            document.getElementById('quickPrompt1'),
            document.getElementById('quickPrompt2'),
            document.getElementById('quickPrompt3')
        ];

        // Portfolio Elements
        const portfolioEmpty = document.getElementById('portfolioEmpty');
        const portfolioTemplate = document.getElementById('portfolioTemplate');
        const portfolioPreview = document.getElementById('portfolioPreview');
        const exportPdfBtn = document.getElementById('exportPdfBtn');
        const refreshPortfolioBtn = document.getElementById('refreshPortfolioBtn');
        const editPortfolioBtn = document.getElementById('editPortfolioBtn');

        // Portfolio Data Elements
        const portfolioName = document.getElementById('portfolioName');
        const portfolioJobTitle = document.getElementById('portfolioJobTitle');
        const portfolioEmail = document.getElementById('portfolioEmail');
        const portfolioPhone = document.getElementById('portfolioPhone');
        const portfolioLocation = document.getElementById('portfolioLocation');
        const portfolioLinkedin = document.getElementById('portfolioLinkedin');
        const portfolioGithub = document.getElementById('portfolioGithub');
        const portfolioSummary = document.getElementById('portfolioSummary');
        const portfolioSkills = document.getElementById('portfolioSkills');
        const portfolioExperience = document.getElementById('portfolioExperience');
        const portfolioEducation = document.getElementById('portfolioEducation');
        const portfolioProjects = document.getElementById('portfolioProjects');

        // Menu Items
        const chatMenuItem = document.getElementById('chatMenuItem');
        const portfolioMenuItem = document.getElementById('portfolioMenuItem');
        const historyMenuItem = document.getElementById('historyMenuItem');
        const googleMenuItem = document.getElementById('googleMenuItem');
        const settingsMenuItem = document.getElementById('settingsMenuItem');

        // Sample Portfolio Data
        let portfolioData = {
            name: "John Doe",
            jobTitle: "Senior Full Stack Developer",
            email: "john.doe@example.com",
            phone: "+1 (555) 123-4567",
            location: "San Francisco, CA",
            linkedin: "linkedin.com/in/johndoe",
            github: "github.com/johndoe",
            summary: "Results-driven Full Stack Developer with 5+ years of experience building scalable web applications. Proficient in JavaScript, React, Node.js, and cloud technologies. Passionate about creating efficient, user-friendly solutions and collaborating in agile teams to deliver high-quality software.",
            skills: ["JavaScript", "React", "Node.js", "Python", "AWS", "Docker", "MongoDB", "TypeScript", "Git", "REST APIs"],
            experience: [
                {
                    company: "Tech Solutions Inc.",
                    position: "Senior Full Stack Developer",
                    date: "2020 - Present",
                    description: "Led development of multiple customer-facing web applications using React and Node.js. Improved application performance by 40% through code optimization and implemented CI/CD pipelines reducing deployment time by 60%."
                },
                {
                    company: "Digital Innovations Ltd.",
                    position: "Full Stack Developer",
                    date: "2018 - 2020",
                    description: "Developed and maintained e-commerce platform serving 50,000+ monthly users. Collaborated with UX designers to implement responsive interfaces and integrated third-party payment APIs."
                },
                {
                    company: "StartupXYZ",
                    position: "Junior Web Developer",
                    date: "2017 - 2018",
                    description: "Built frontend components using React and assisted in backend development with Python/Django. Participated in agile sprints and code reviews to maintain code quality."
                }
            ],
            education: [
                {
                    degree: "Bachelor of Science in Computer Science",
                    school: "University of Technology",
                    date: "2013 - 2017",
                    details: "Graduated with Honors. Relevant coursework: Data Structures, Algorithms, Web Development, Database Systems."
                }
            ],
            projects: [
                {
                    title: "E-Commerce Platform",
                    description: "Developed a full-featured e-commerce platform with React frontend, Node.js backend, and MongoDB database. Implemented user authentication, payment processing, and admin dashboard."
                },
                {
                    title: "Task Management App",
                    description: "Created a collaborative task management application with real-time updates using Socket.io. Features include drag-and-drop interface, team collaboration, and progress tracking."
                },
                {
                    title: "Portfolio Generator API",
                    description: "Built a REST API for generating professional portfolios from CV data. Integrated with AI services for content generation and supported multiple export formats."
                }
            ]
        };

        // Track if CV has been uploaded
        let cvUploaded = false;

        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            // Set initial state
            updatePortfolioPreview();

            // Hide file upload message initially
            fileUploadMessage.style.display = 'none';
        });

        // Theme Toggle
        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');

            if (body.classList.contains('dark-mode')) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            } else {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
        });

        // Auto-resize textarea
        messageInput.addEventListener('input', function () {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
            sendBtn.disabled = this.value.trim() === '';
        });

        // Send message on Enter (Shift+Enter for new line)
        messageInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Send button click
        sendBtn.addEventListener('click', sendMessage);

        // File upload buttons
        uploadCvBtn.addEventListener('click', () => {
            fileInput.click();
        });

        inlineUploadBtn.addEventListener('click', () => {
            fileInput.click();
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                const fileName = e.target.files[0].name;
                cvUploaded = true;

                // Add user message
                addMessage(`Uploaded CV: ${fileName}`, 'user');

                // Show processing message
                setTimeout(() => {
                    addMessage(`I've successfully processed your CV "${fileName}". I found 5 years of experience in web development, proficiency in JavaScript, React, and Node.js. Would you like me to generate a portfolio based on this information?`, 'ai');

                    // Show quick actions
                    addQuickActions();

                    // Update portfolio preview
                    updatePortfolioPreview();

                    // Show success notification
                    showNotification(`CV "${fileName}" uploaded successfully! Portfolio generated.`);
                }, 1000);

                // Hide the file upload message
                fileUploadMessage.style.display = 'none';
            }
        });

        // Menu item clicks
        chatMenuItem.addEventListener('click', () => {
            setActiveMenuItem(chatMenuItem);
        });

        portfolioMenuItem.addEventListener('click', () => {
            setActiveMenuItem(portfolioMenuItem);
            // Ensure portfolio is visible
            if (cvUploaded) {
                portfolioEmpty.style.display = 'none';
                portfolioTemplate.classList.add('active');
            }
        });

        historyMenuItem.addEventListener('click', () => {
            historyModal.classList.add('active');
            setActiveMenuItem(historyMenuItem);
        });

        googleMenuItem.addEventListener('click', () => {
            showNotification('This would connect your Google account');
            setActiveMenuItem(googleMenuItem);
        });

        settingsMenuItem.addEventListener('click', () => {
            showNotification('Settings page would open here');
            setActiveMenuItem(settingsMenuItem);
        });

        // Portfolio buttons
        exportPdfBtn.addEventListener('click', () => {
            if (!cvUploaded) {
                showNotification('Please upload a CV first to generate a portfolio.');
                return;
            }
            showNotification('Portfolio exported as PDF. In a real application, this would generate a downloadable PDF file.');
        });

        refreshPortfolioBtn.addEventListener('click', () => {
            if (!cvUploaded) {
                showNotification('Please upload a CV first to generate a portfolio.');
                return;
            }
            showNotification('Portfolio refreshed with latest data.');
            updatePortfolioPreview();
        });

        editPortfolioBtn.addEventListener('click', () => {
            if (!cvUploaded) {
                showNotification('Please upload a CV first to generate a portfolio.');
                return;
            }
            showNotification('Edit mode activated. You can now modify portfolio sections directly.');
            // In a real app, this would enable editing of portfolio fields
        });

        // History modal
        historyBtn.addEventListener('click', () => {
            historyModal.classList.add('active');
        });

        closeModal.addEventListener('click', () => {
            historyModal.classList.remove('active');
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === historyModal) {
                historyModal.classList.remove('active');
            }
        });

        // Load prompt from history
        historyItems.forEach(item => {
            item.addEventListener('click', () => {
                const prompt = item.getAttribute('data-prompt');
                messageInput.value = prompt;
                messageInput.style.height = 'auto';
                messageInput.style.height = (messageInput.scrollHeight) + 'px';
                sendBtn.disabled = false;
                historyModal.classList.remove('active');

                // Auto-focus on input
                messageInput.focus();
            });
        });

        // Quick prompt buttons
        quickPromptButtons[0].addEventListener('click', () => {
            if (!cvUploaded) {
                // Show file upload message if no CV uploaded
                fileUploadMessage.style.display = 'flex';
                messagesContainer.appendChild(fileUploadMessage);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                showNotification('Please upload your CV first.');
            } else {
                sendQuickPrompt('Generate a professional portfolio from my CV');
            }
        });

        quickPromptButtons[1].addEventListener('click', () => {
            if (!cvUploaded) {
                showNotification('Please upload your CV first.');
                return;
            }
            sendQuickPrompt('Improve my professional summary to be more impactful');
        });

        quickPromptButtons[2].addEventListener('click', () => {
            if (!cvUploaded) {
                showNotification('Please upload your CV first.');
                return;
            }
            sendQuickPrompt('Add a new project to my portfolio about a mobile application');
        });

        // Functions
        function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            // Check if user is asking to generate portfolio without CV
            const lowerMessage = message.toLowerCase();
            if ((lowerMessage.includes('generate') || lowerMessage.includes('create') || lowerMessage.includes('make')) &&
                (lowerMessage.includes('portfolio') || lowerMessage.includes('cv') || lowerMessage.includes('resume')) &&
                !cvUploaded) {
                // Show file upload message
                fileUploadMessage.style.display = 'flex';
                messagesContainer.appendChild(fileUploadMessage);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

                addMessage(message, 'user');
                setTimeout(() => {
                    addMessage("I'd be happy to generate a portfolio for you! First, please upload your CV using the upload button above or in the sidebar.", 'ai');
                }, 800);

                // Clear input
                messageInput.value = '';
                messageInput.style.height = 'auto';
                sendBtn.disabled = true;
                return;
            }

            // Add user message
            addMessage(message, 'user');

            // Clear input
            messageInput.value = '';
            messageInput.style.height = 'auto';
            sendBtn.disabled = true;

            // Simulate AI thinking
            setTimeout(() => {
                // Generate AI response based on message
                const aiResponse = generateAIResponse(message);
                addMessage(aiResponse, 'ai');

                // Update portfolio if relevant
                if (message.toLowerCase().includes('skill') ||
                    message.toLowerCase().includes('experience') ||
                    message.toLowerCase().includes('summary') ||
                    message.toLowerCase().includes('project') ||
                    message.toLowerCase().includes('education')) {

                    // Simulate portfolio update
                    simulatePortfolioUpdate(message);
                }
            }, 1000 + Math.random() * 1000);
        }

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;

            const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

            let avatarIcon = 'fas fa-user';
            let avatarBg = '#3b82f6';

            if (sender === 'ai') {
                avatarIcon = 'fas fa-robot';
                avatarBg = '#10b981';
            }

            messageDiv.innerHTML = `
                <div class="message-avatar" style="background-color: ${avatarBg}">
                    <i class="${avatarIcon}"></i>
                </div>
                <div>
                    <div class="message-content">${formatMessage(text)}</div>
                    <div class="message-time">${time}</div>
                </div>
            `;

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function formatMessage(text) {
            // Convert line breaks to <br>
            return text.replace(/\n/g, '<br>');
        }

        function generateAIResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase();

            if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
                return "Hello! I'm ready to help you create an amazing portfolio. " +
                    (cvUploaded ? "I see you've uploaded your CV. Would you like me to generate or improve your portfolio?" :
                        "Please upload your CV to get started!");

            } else if (lowerMessage.includes('upload') || lowerMessage.includes('cv') || lowerMessage.includes('resume')) {
                return "You can upload your CV using the 'Upload CV' button in the sidebar. Once uploaded, I'll analyze it and help you create a professional portfolio.";

            } else if (lowerMessage.includes('portfolio') && (lowerMessage.includes('generate') || lowerMessage.includes('create') || lowerMessage.includes('make'))) {
                if (!cvUploaded) {
                    return "I can generate a portfolio for you! First, please upload your CV using the upload button in the sidebar or above the chat.";
                } else {
                    // Generate portfolio
                    updatePortfolioPreview();
                    return "I've generated a professional portfolio based on your CV! You can see it in the preview panel on the right. Would you like me to make any adjustments?";
                }

            } else if (lowerMessage.includes('skill')) {
                if (!cvUploaded) {
                    return "Once you upload your CV, I can help you optimize your skills section with relevant keywords and technologies.";
                } else {
                    return "I've updated your skills section with more relevant technologies. Check the portfolio preview to see the changes. Would you like to add any specific skills?";
                }

            } else if (lowerMessage.includes('experience') || lowerMessage.includes('work')) {
                if (!cvUploaded) {
                    return "After uploading your CV, I can help you format your work experience to highlight achievements and impact.";
                } else {
                    return "I've enhanced your work experience section with more action-oriented language and quantifiable achievements. Take a look at the updated portfolio!";
                }

            } else if (lowerMessage.includes('summary') || lowerMessage.includes('about')) {
                if (!cvUploaded) {
                    return "I can create a compelling professional summary once you upload your CV. A good summary highlights your key experience, skills, and career goals.";
                } else {
                    return "I've rewritten your professional summary to be more impactful and keyword-optimized. Check out the updated version in your portfolio preview.";
                }

            } else if (lowerMessage.includes('project')) {
                if (!cvUploaded) {
                    return "I can help you add impressive projects to your portfolio after you upload your CV. Projects demonstrate your practical skills and experience.";
                } else {
                    return "I've added a new project to your portfolio based on common industry standards. You can see it in the projects section of your portfolio preview.";
                }

            } else if (lowerMessage.includes('thank')) {
                return "You're welcome! I'm here to help you create the best possible portfolio. Is there anything else you'd like me to work on?";

            } else if (lowerMessage.includes('export') || lowerMessage.includes('download') || lowerMessage.includes('pdf')) {
                return "You can export your portfolio as a PDF using the 'Export PDF' button in the portfolio preview section. This will generate a professional, print-ready document.";

            } else {
                return "I understand you're asking about: \"" + userMessage + "\". As your AI Portfolio Assistant, I can help you with:\n\n" +
                    "1. Generating a complete portfolio from your CV\n" +
                    "2. Improving your skills section\n" +
                    "3. Rewriting your work experience\n" +
                    "4. Creating a professional summary\n" +
                    "5. Adding projects to your portfolio\n\n" +
                    (cvUploaded ? "Your portfolio has been generated. What would you like me to focus on next?" :
                        "First, please upload your CV to get started!");
            }
        }

        function sendQuickPrompt(prompt) {
            messageInput.value = prompt;
            messageInput.style.height = 'auto';
            messageInput.style.height = (messageInput.scrollHeight) + 'px';
            sendBtn.disabled = false;
            sendMessage();
        }

        function setActiveMenuItem(menuItem) {
            // Remove active class from all menu items
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });

            // Add active class to clicked item
            menuItem.classList.add('active');
        }

        function updatePortfolioPreview() {
            if (!cvUploaded) {
                // Show empty state
                portfolioEmpty.style.display = 'flex';
                portfolioTemplate.classList.remove('active');
                return;
            }

            // Hide empty state, show portfolio
            portfolioEmpty.style.display = 'none';
            portfolioTemplate.classList.add('active');

            // Update portfolio data
            portfolioName.textContent = portfolioData.name;
            portfolioJobTitle.textContent = portfolioData.jobTitle;
            portfolioEmail.textContent = portfolioData.email;
            portfolioPhone.textContent = portfolioData.phone;
            portfolioLocation.textContent = portfolioData.location;
            portfolioLinkedin.textContent = portfolioData.linkedin;
            portfolioGithub.textContent = portfolioData.github;
            portfolioSummary.textContent = portfolioData.summary;

            // Update skills
            portfolioSkills.innerHTML = '';
            portfolioData.skills.forEach(skill => {
                const skillElement = document.createElement('div');
                skillElement.className = 'skill-tag';
                skillElement.textContent = skill;
                portfolioSkills.appendChild(skillElement);
            });

            // Update experience
            portfolioExperience.innerHTML = '';
            portfolioData.experience.forEach(exp => {
                const expElement = document.createElement('div');
                expElement.className = 'experience-item';
                expElement.innerHTML = `
                    <div class="experience-header">
                        <div class="experience-company">${exp.company}</div>
                        <div class="experience-date">${exp.date}</div>
                    </div>
                    <div class="experience-position">${exp.position}</div>
                    <div class="experience-description">${exp.description}</div>
                `;
                portfolioExperience.appendChild(expElement);
            });

            // Update education
            portfolioEducation.innerHTML = '';
            portfolioData.education.forEach(edu => {
                const eduElement = document.createElement('div');
                eduElement.className = 'education-item';
                eduElement.innerHTML = `
                    <div class="education-degree">${edu.degree}</div>
                    <div class="education-school">${edu.school}  ${edu.date}</div>
                    <div class="experience-description">${edu.details}</div>
                `;
                portfolioEducation.appendChild(eduElement);
            });

            // Update projects
            portfolioProjects.innerHTML = '';
            portfolioData.projects.forEach(project => {
                const projectElement = document.createElement('div');
                projectElement.className = 'project-item';
                projectElement.innerHTML = `
                    <div class="project-title">${project.title}</div>
                    <div class="project-description">${project.description}</div>
                `;
                portfolioProjects.appendChild(projectElement);
            });

            // Scroll to top of portfolio preview
            portfolioPreview.scrollTop = 0;
        }

        function simulatePortfolioUpdate(message) {
            const lowerMessage = message.toLowerCase();

            // Simulate updating portfolio data based on user request
            if (lowerMessage.includes('skill')) {
                // Add a new skill
                const newSkills = ['GraphQL', 'Kubernetes', 'Next.js'];
                const randomSkill = newSkills[Math.floor(Math.random() * newSkills.length)];

                if (!portfolioData.skills.includes(randomSkill)) {
                    portfolioData.skills.push(randomSkill);
                    updatePortfolioPreview();
                    showNotification(`Added "${randomSkill}" to your skills`);
                }

            } else if (lowerMessage.includes('summary') || lowerMessage.includes('improve')) {
                // Update summary
                portfolioData.summary = "Accomplished Full Stack Developer with 5+ years of expertise in building scalable web applications and leading development teams. Proficient in modern JavaScript frameworks, cloud architecture, and DevOps practices. Committed to delivering high-performance solutions that drive business growth and enhance user experiences.";
                updatePortfolioPreview();
                showNotification('Professional summary improved');

            } else if (lowerMessage.includes('project')) {
                // Add a new project
                const newProject = {
                    title: "AI-Powered Portfolio Generator",
                    description: "Developed an intelligent portfolio generator that uses AI to create personalized professional portfolios from CV data. Features include real-time preview, multiple templates, and AI-assisted content improvement."
                };

                portfolioData.projects.push(newProject);
                updatePortfolioPreview();
                showNotification('New project added to portfolio');

            } else if (lowerMessage.includes('experience')) {
                // Enhance experience descriptions
                portfolioData.experience[0].description = "Led a team of 5 developers in building customer-facing applications serving 100,000+ users. Improved application performance by 40% and reduced server costs by 25% through optimization and cloud migration.";
                updatePortfolioPreview();
                showNotification('Work experience enhanced with quantifiable achievements');
            }
        }

        function addQuickActions() {
            // Add AI message with quick actions
            setTimeout(() => {
                const quickActionsMessage = document.createElement('div');
                quickActionsMessage.className = 'message ai-message';
                quickActionsMessage.innerHTML = `
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <div class="message-content">
                            <strong>Quick actions:</strong><br><br>
                            <div class="quick-actions" style="margin: 0;">
                                <button class="quick-action-btn" id="action1" style="margin: 0;">
                                    <i class="fas fa-magic"></i>
                                    Generate portfolio
                                </button>
                                <button class="quick-action-btn" id="action2" style="margin: 0;">
                                    <i class="fas fa-edit"></i>
                                    Improve skills
                                </button>
                                <button class="quick-action-btn" id="action3" style="margin: 0;">
                                    <i class="fas fa-file-alt"></i>
                                    Add project
                                </button>
                            </div>
                        </div>
                        <div class="message-time">Just now</div>
                    </div>
                `;

                messagesContainer.appendChild(quickActionsMessage);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

                // Add event listeners to quick action buttons
                document.getElementById('action1').addEventListener('click', () => {
                    sendQuickPrompt('Generate a complete portfolio based on my CV');
                });

                document.getElementById('action2').addEventListener('click', () => {
                    sendQuickPrompt('Improve my skills section with relevant technologies');
                });

                document.getElementById('action3').addEventListener('click', () => {
                    sendQuickPrompt('Add a new project to my portfolio');
                });
            }, 500);
        }

        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background-color: #10b981;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                font-weight: 500;
                animation: slideIn 0.3s ease;
            `;

            notification.textContent = message;
            document.body.appendChild(notification);

            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);

            // Add keyframes for animation
            if (!document.querySelector('#notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }
    </script>
</body>

</html>